{
  "query": "CREATE TABLE `backtest_positions` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`sessionId` int NOT NULL,\n\t`symbol` varchar(20) NOT NULL,\n\t`quantity` int NOT NULL DEFAULT 0,\n\t`avgCost` decimal(16,4) NOT NULL,\n\t`totalCost` decimal(16,2) NOT NULL,\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `backtest_positions_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `backtest_sessions` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`name` varchar(128) NOT NULL,\n\t`initialBalance` decimal(16,2) NOT NULL,\n\t`currentBalance` decimal(16,2) NOT NULL,\n\t`startDate` bigint NOT NULL,\n\t`currentDate` bigint NOT NULL,\n\t`currentInterval` varchar(10) DEFAULT '1d',\n\t`status` enum('active','archived') NOT NULL DEFAULT 'active',\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `backtest_sessions_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `backtest_trades` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`sessionId` int NOT NULL,\n\t`symbol` varchar(20) NOT NULL,\n\t`type` enum('buy','sell') NOT NULL,\n\t`quantity` int NOT NULL,\n\t`price` decimal(16,4) NOT NULL,\n\t`amount` decimal(16,2) NOT NULL,\n\t`tradeDate` bigint NOT NULL,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `backtest_trades_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `watchlist` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`symbol` varchar(20) NOT NULL,\n\t`addedAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `watchlist_id` PRIMARY KEY(`id`)\n);\n\nALTER TABLE `backtest_positions` ADD CONSTRAINT `backtest_positions_sessionId_backtest_sessions_id_fk` FOREIGN KEY (`sessionId`) REFERENCES `backtest_sessions`(`id`) ON DELETE cascade ON UPDATE no action;\nALTER TABLE `backtest_sessions` ADD CONSTRAINT `backtest_sessions_userId_users_id_fk` FOREIGN KEY (`userId`) REFERENCES `users`(`id`) ON DELETE cascade ON UPDATE no action;\nALTER TABLE `backtest_trades` ADD CONSTRAINT `backtest_trades_sessionId_backtest_sessions_id_fk` FOREIGN KEY (`sessionId`) REFERENCES `backtest_sessions`(`id`) ON DELETE cascade ON UPDATE no action;\nALTER TABLE `watchlist` ADD CONSTRAINT `watchlist_userId_users_id_fk` FOREIGN KEY (`userId`) REFERENCES `users`(`id`) ON DELETE cascade ON UPDATE no action;",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 2fpGxeuC2GaQSuR.root --database 4YohympKQYdBjSaKYrmXM5 --execute CREATE TABLE `backtest_positions` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`sessionId` int NOT NULL,\n\t`symbol` varchar(20) NOT NULL,\n\t`quantity` int NOT NULL DEFAULT 0,\n\t`avgCost` decimal(16,4) NOT NULL,\n\t`totalCost` decimal(16,2) NOT NULL,\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `backtest_positions_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `backtest_sessions` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`name` varchar(128) NOT NULL,\n\t`initialBalance` decimal(16,2) NOT NULL,\n\t`currentBalance` decimal(16,2) NOT NULL,\n\t`startDate` bigint NOT NULL,\n\t`currentDate` bigint NOT NULL,\n\t`currentInterval` varchar(10) DEFAULT '1d',\n\t`status` enum('active','archived') NOT NULL DEFAULT 'active',\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `backtest_sessions_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `backtest_trades` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`sessionId` int NOT NULL,\n\t`symbol` varchar(20) NOT NULL,\n\t`type` enum('buy','sell') NOT NULL,\n\t`quantity` int NOT NULL,\n\t`price` decimal(16,4) NOT NULL,\n\t`amount` decimal(16,2) NOT NULL,\n\t`tradeDate` bigint NOT NULL,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `backtest_trades_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `watchlist` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`symbol` varchar(20) NOT NULL,\n\t`addedAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `watchlist_id` PRIMARY KEY(`id`)\n);\n\nALTER TABLE `backtest_positions` ADD CONSTRAINT `backtest_positions_sessionId_backtest_sessions_id_fk` FOREIGN KEY (`sessionId`) REFERENCES `backtest_sessions`(`id`) ON DELETE cascade ON UPDATE no action;\nALTER TABLE `backtest_sessions` ADD CONSTRAINT `backtest_sessions_userId_users_id_fk` FOREIGN KEY (`userId`) REFERENCES `users`(`id`) ON DELETE cascade ON UPDATE no action;\nALTER TABLE `backtest_trades` ADD CONSTRAINT `backtest_trades_sessionId_backtest_sessions_id_fk` FOREIGN KEY (`sessionId`) REFERENCES `backtest_sessions`(`id`) ON DELETE cascade ON UPDATE no action;\nALTER TABLE `watchlist` ADD CONSTRAINT `watchlist_userId_users_id_fk` FOREIGN KEY (`userId`) REFERENCES `users`(`id`) ON DELETE cascade ON UPDATE no action;",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 6715
}